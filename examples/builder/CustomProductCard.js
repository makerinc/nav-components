import R from"react";window.__MAKER_REACT__=window.__MAKER_REACT__||R;var r=window.__MAKER_REACT__;var c="maker-nav-importmap",y={imports:{react:"https://esm.sh/react@16.14.0","react-dom":"https://esm.sh/react@16.14.0","react/jsx-runtime":"https://esm.sh/react@16.14.0/jsx-runtime"}},m=()=>{if(typeof window>"u"||typeof document>"u"||document.getElementById(c))return;let t=document.createElement("script");t.innerHTML=JSON.stringify(y),t.type="importmap",t.id=c,document.head.appendChild(t)};var u={REGISTERED:"maker-nav-component-registered",UNREGISTERED:"maker-nav-component-unregistered"},p=class t{components=new Map;constructor(){typeof window>"u"||typeof document>"u"||(m(),window.__MAKER_NAV_COMPONENT_REGISTRY__={register:(e,o,n)=>{this.components.set(o,{contentType:e,render:n}),window.dispatchEvent(new CustomEvent(u.REGISTERED,{detail:{contentType:e,componentId:o}}))},unregister:e=>{this.components.get(e)&&(this.components.delete(e),window.dispatchEvent(new CustomEvent(u.UNREGISTERED,{detail:{componentId:e}})))},list:()=>Array.from(this.components.entries()).map(([e,o])=>({componentId:e,contentType:o.contentType,render:o.render}))})}static getInstance(){if(typeof window<"u"&&window.__MAKER_COMPONENT_REGISTRY_INSTANCE__)return window.__MAKER_COMPONENT_REGISTRY_INSTANCE__;let e=new t;return typeof window<"u"&&(window.__MAKER_COMPONENT_REGISTRY_INSTANCE__=e),e}register(e,o,n){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.register(e,o,n)}unregister(e){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.unregister(e)}getRenderFunction(e){return window.__MAKER_NAV_COMPONENT_REGISTRY__.list().find(o=>o.componentId===e)?.render}isRegistryAvailable(){return typeof window<"u"&&!!window.__MAKER_NAV_COMPONENT_REGISTRY__}},i=p.getInstance();import{jsx as C}from"react/jsx-runtime";window.__MAKER_SHARED_COMPONENTS_CONTEXT__=window.__MAKER_SHARED_COMPONENTS_CONTEXT__||r.createContext({renderImage:void 0,renderVideo:void 0});var l=window.__MAKER_SHARED_COMPONENTS_CONTEXT__,g=()=>r.useContext(l);function f({renderImage:t,renderVideo:e,children:o}){return C(l.Provider,{value:{renderImage:t,renderVideo:e},children:o})}var d={Provider:f,useContext:g};import{jsx as w}from"react/jsx-runtime";var T=t=>{let{renderImage:e}=d.useContext();return typeof e=="function"?e(t):w("img",{src:t.src,alt:t.alt,loading:t.priority==0?"eager":"lazy",fetchpriority:t.priority==0?"high":"low",style:{objectFit:t.fit,objectPosition:"center",width:"100%",height:"100%",position:"absolute",top:0,left:0}})},s=T;import{jsx as D}from"react/jsx-runtime";import j from"react";var E=class extends r.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,o){console.error("Error caught in ErrorBoundary:",e,o)}render(){return this.state.hasError?this.props.fallback:this.props.children}};import{jsx as W}from"react/jsx-runtime";import{jsx as a,jsxs as _}from"react/jsx-runtime";var P=t=>{let[e,o]=r.useState(0),n=()=>{o(e+1)};return _("div",{children:[a("div",{style:{position:"relative",aspectRatio:"16/9",width:"100%"},children:a(s,{src:t.data.variants[0].imageLink,alt:t.data.title,fit:"cover",priority:1})}),a("div",{children:t.data.title}),_("button",{onClick:n,children:["Clicked ",e," times"]})]})};i.register("product","my-custom-product-card",P);export{P as Component};
